---
/**
 * Wiederverwendbare Überschriften-Komponente für Sektionen
 *
 * Nutzt Design Tokens für alle 3 Varianten
 * Unterstützt optionale Untertitel und variable Ausrichtung
 */

interface Props {
  /** Haupttitel der Sektion */
  title: string;
  /** Optionaler Untertitel */
  subtitle?: string;
  /** Text-Ausrichtung */
  alignment?: 'left' | 'center';
  /** CSS-Klasse für das Element */
  class?: string;
}

const {
  title,
  subtitle,
  alignment = 'center',
  class: className
} = Astro.props;
---

<div class:list={['section-heading', `section-heading--${alignment}`, className]}>
  <h2 class="section-heading__title">{title}</h2>

  {subtitle && (
    <p class="section-heading__subtitle">{subtitle}</p>
  )}

  <div class="section-heading__decoration">
    <slot />
  </div>
</div>

<style>
  .section-heading {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md);
  }

  .section-heading--center {
    align-items: center;
    text-align: center;
  }

  .section-heading--left {
    align-items: flex-start;
    text-align: left;
  }

  .section-heading__title {
    font-size: var(--font-size-h2);
    font-weight: var(--font-weight-heading);
    line-height: var(--line-height-tight);
    color: var(--color-text-primary);
    margin: 0;
    padding-bottom: var(--spacing-md);
    position: relative;
  }

  .section-heading--center .section-heading__title::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: clamp(60px, 10vw, 100px);
    height: var(--border-width-thick);
    background: linear-gradient(
      90deg,
      transparent,
      var(--color-primary),
      transparent
    );
    border-radius: var(--border-radius-full);
  }

  .section-heading--left .section-heading__title::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: clamp(50px, 8vw, 80px);
    height: var(--border-width-thick);
    background: linear-gradient(
      90deg,
      var(--color-primary),
      transparent
    );
    border-radius: var(--border-radius-full);
  }

  .section-heading__subtitle {
    font-size: var(--font-size-md);
    font-weight: var(--font-weight-normal);
    line-height: var(--line-height-normal);
    color: var(--color-text-secondary);
    margin: 0;
  }

  .section-heading__decoration {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    min-height: 1px;
  }

  .section-heading--left .section-heading__decoration {
    justify-content: flex-start;
  }
</style>
