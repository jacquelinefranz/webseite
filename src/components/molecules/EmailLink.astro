---
import { Icon } from 'astro-icon/components';

interface Props {
    /** Die E-Mail-Adresse, die verlinkt und angezeigt wird. */
    email: string;
    /** Wenn true, wird der Text visuell versteckt (nur für Screenreader verfügbar). */
    hideText?: boolean;
}

const { email, hideText = false } = Astro.props;
---

<a href={`mailto:${email}`} class="email-link" aria-label={hideText ? `E-Mail an ${email} senden` : undefined}>
    <Icon name="mingcute:mail-send-line" class="icon" /> {/* Icon aus dem Mingcute-Set */}
    <span class={hideText ? 'sr-only' : ''}>E-Mail: {email}</span>
</a>

<style>
    .email-link {
        display: inline-flex;
        align-items: center;
        gap: var(--abstand-s); /* Design Token verwendet */
        text-decoration: none;
        color: inherit;
    }

    .email-link:hover {
        text-decoration: underline;
    }

    /* Entfernt Unterstreichung beim Hover, wenn nur Icon sichtbar ist */
    .email-link:has(.sr-only):hover {
        text-decoration: none;
        opacity: 0.8;
    }

    .icon {
        width: var(--icon-groesse-standard);
        height: var(--icon-groesse-standard);
    }
</style>