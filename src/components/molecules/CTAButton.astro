---
import Button from '../atoms/Button.astro';

interface Props {
  /** Die Variante des CTA-Buttons */
  variant?: 'primary' | 'secondary';
  /** Die Ziel-URL */
  href: string;
  /** Icon-Name aus dem Mingcute Set */
  icon?: string;
  /** Icon-Position */
  iconPosition?: 'left' | 'right';
  /** CSS-Klasse f√ºr das Element */
  class?: string;
}

const {
  variant = 'primary',
  href,
  icon = 'mingcute:arrow-right-line',
  iconPosition = 'right',
  class: className
} = Astro.props;
---

<div class:list={['cta-button', className]}>
  <Button
    variant={variant}
    href={href}
    icon={icon}
    iconPosition={iconPosition}
    class="cta-button__button"
  >
    <slot />
  </Button>
</div>

<style>
  .cta-button {
    display: inline-block;
  }

  .cta-button__button {
    position: relative;
    overflow: hidden;
  }

  /* Animated Shine Effect on Hover */
  .cta-button__button::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent,
      color-mix(in srgb, var(--color-background-surface) 30%, transparent),
      transparent
    );
    transition: left var(--transition-slow);
  }

  .cta-button__button:hover::before {
    left: 100%;
  }

  /* Enhanced Icon Animation */
  .cta-button__button:hover :global(.button__icon--right) {
    transform: translateX(4px);
  }

  .cta-button__button:hover :global(.button__icon--left) {
    transform: translateX(-4px);
  }

  :global(.cta-button__button .button__icon) {
    transition: transform var(--transition-base);
  }
</style>
