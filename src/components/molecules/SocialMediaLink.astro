---
import { Icon } from 'astro-icon/components';

interface Props {
    /** Der Name des Icons aus dem Mingcute-Set (z.B. 'mingcute:instagram-line'). */
    icon: string;
    /** Die URL zum Social Media Profil. */
    href: string;
    /** Der sichtbare Text des Links. */
    text: string;
    /** Wenn true, wird der Text visuell versteckt (nur für Screenreader verfügbar). */
    hideText?: boolean;
}

const { icon, href, text, hideText = false } = Astro.props;
---

<a href={href} target="_blank" rel="noopener noreferrer" class="social-link" aria-label={hideText ? text : undefined}>
    <Icon name={icon} class="icon" />
    <span class={hideText ? 'sr-only' : ''}>{text}</span>
</a>

<style>
    .social-link {
        display: inline-flex;
        align-items: center;
        gap: var(--abstand-s); /* Design Token verwendet */
        text-decoration: none;
        color: inherit;
    }

    .social-link:hover {
        text-decoration: underline;
    }

    /* Entfernt Unterstreichung beim Hover, wenn nur Icon sichtbar ist */
    .social-link:has(.sr-only):hover {
        text-decoration: none;
        opacity: 0.8;
    }

    .icon {
        width: var(--icon-groesse-standard);
        height: var(--icon-groesse-standard);
    }
</style>