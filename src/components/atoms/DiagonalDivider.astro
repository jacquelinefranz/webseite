---
interface Props {
  /** Winkel der diagonalen Neigung (z.B. -3deg, 5deg) */
  angle?: string;
  /** Hintergrundfarbe des Farbblocks */
  color?: string;
  /** CSS-Klasse für das Wrapper-Element */
  class?: string;
}

const {
  angle = 'var(--layout-skew-angle)',
  color,
  class: className
} = Astro.props;
---

<div
  class:list={['diagonal-divider', className]}
  style={`--divider-angle: ${angle}; ${color ? `--divider-color: ${color};` : ''}`}
>
</div>

<style>
  .diagonal-divider {
    width: 100%;
    height: clamp(3rem, 5vw + 2rem, 6rem);
    background: var(--divider-color, var(--layout-gradient-primary-secondary));
    transform: skewY(var(--divider-angle));
    transform-origin: top left;
    margin: calc(var(--spacing-section-vertical) * -0.5) 0;
    position: relative;
    z-index: var(--z-base);
  }

  /* Kompensation für Skew-Lücken */
  .diagonal-divider::before,
  .diagonal-divider::after {
    content: '';
    position: absolute;
    left: 0;
    right: 0;
    height: 1px;
    background: inherit;
  }

  .diagonal-divider::before {
    top: -1px;
  }

  .diagonal-divider::after {
    bottom: -1px;
  }
</style>
